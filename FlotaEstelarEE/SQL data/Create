CREATE DATABASE flotaestelaree;
USE flotaestelaree;

CREATE TABLE nave (
id_nave INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
capitan VARCHAR(150) NOT NULL,
nombre VARCHAR(150) NOT NULL,
matricula VARCHAR (25) NOT NULL,
tipo VARCHAR(150) NOT NULL,
imagen VARCHAR(255));

CREATE TABLE tripulante (
id_tripulante INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
nombre VARCHAR(150) NOT NULL,
cargo VARCHAR(150) NOT NULL,
genero VARCHAR(25) NOT NULL,
experiencia INT NOT NULL,
origen VARCHAR(150) NOT NULL,
raza VARCHAR(150) NOT NULL,
edad INT NOT NULL, 
imagen VARCHAR(255) NOT NULL,
id_nave INT NOT NULL,
CONSTRAINT fk_tripulante_nave FOREIGN KEY (id_nave) REFERENCES nave(id_nave)
ON DELETE CASCADE ON UPDATE CASCADE);

CREATE TABLE mision (
id_mision INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
nombre VARCHAR(150) NOT NULL,
descripcion VARCHAR(400) NOT NULL,
id_nave INT NOT NULL,
CONSTRAINT fk_mision_nave FOREIGN KEY (id_nave) REFERENCES nave(id_nave)
ON DELETE CASCADE ON UPDATE CASCADE);

CREATE TABLE cuaderno (
id_cuaderno INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
fecha DATE NOT NULL,
descripcion VARCHAR(400) NOT NULL,
audio VARCHAR(400) NOT NULL,
id_nave INT NOT NULL,
CONSTRAINT fk_cuaderno_nave FOREIGN KEY (id_nave) REFERENCES nave(id_nave)
ON DELETE CASCADE ON UPDATE CASCADE);

CREATE TABLE usuario (
id_usuario INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
nombre VARCHAR(150) NOT NULL,
usuario VARCHAR(150) NOT NULL,
contrase√±a VARCHAR(255) NOT NULL);
